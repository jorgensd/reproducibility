# Jupytext - Autoconversion of Notebooks to Python
As shown in [Publishing a Jupyter book](publishing), we can add `.ipynb` files to the Jupyter book. This is achieved by adding their relative path with respect to `index.md` to `_toc.yml`.

## Python -> Notebook
These files can either be generated by hand, and added to the `docs` or auto-generated from a `.py` file, using `jupytext`.

The command
```bash
jupytext --to=ipynb --set-kernel=python3 path/to/demo.py --output=path/to/docs.ipynb
```
generates a notebook compatible with *Jupyter Book*.

The Python file should follow the conventions of the [light format](https://jupytext.readthedocs.io/en/latest/formats.html#the-light-format) for appropriate rendering.

## Notebook -> Python
You can add meta-data to your notebook, making it auto convert to a Python-file at saving (using JupyterLab). This can be achieved by pressing `ctrl+shift+c` and choose `Pair notebook with light script`.

You could also directly modify the notebook metadata with:
```yaml
{
# Other options
#....
"jupytext": {
    "formats": "ipynb,py:light"
}
}
```

One can also use [pre-commit](https://pre-commit.com/) hooks to automatically sync notebooks with a corresponding file, see [here](https://jupytext.readthedocs.io/en/latest/using-pre-commit.html)
